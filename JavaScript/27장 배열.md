# 27. 배열

## 27.1 배열이란?


💡 <b>배열: 여러 개의 값을 순차적으로 나열한 자료구조</b>


- 배열이 가지고 있는 값은 요소(element)
- JS의 모든 값은 배열의 요소가 될 수 있음(원시값, 객체, 함수, 배열 등)
- 배열의 인덱스는 0부터 시작
- 배열의 길이를 나타내는 **length** 프로퍼티를 가짐

```jsx
const arr = [1, 2, 3];
typeof arr; // object
```

- 자바스크립트에 배열이라는 타입은 존재하지 않음, 배열 = 객체 타입

```jsx
arr.constructor === Array; // true
Object.getPrototypeOf(arr) === Array.prototype; // true
```

- 배열의 생성자 함수는 Array, 프로토타입 객체는 Array.prototype

### 일반 객체와 구분

![image](https://github.com/jwo0o0/Modern-Javascript-Deep-Dive/assets/70098708/a9595626-01a5-439b-9e60-23e6f46fda18)

## 27.2 자바스크립트 배열은 배열이 아니다


> **자료구조에서 말하는 배열**: *동일한 크기*의 메모리 공간이 *빈틈없이 연속적으로 나열*된 자료구조 (하나의 데이터 타입으로 통일)

- 일반적인 의미의 밀집 배열은 인덱스를 통해 단 한번의 연산으로 임의의 요소에 접근 → 고효율, 고속, O(1)

> **자바스크립트의 배열**: 각각의 메모리는 _동일한 크기를 갖지 않아도 되며_, _연속적으로 이어져 있지 않을 수도 있음_ (**희소 배열**)

- 자바스크립트의 배열은 **일반적인 배열의 동작을 흉내 낸 특수한 객체**

|      | 일반적인 배열                                  | 자바스크립트 배열                                                               |
| ---- | ---------------------------------------------- | ------------------------------------------------------------------------------- |
| 장점 | 인덱스로 요소에 빠르게 접근                    | 요소를 삽입 또는 삭제하는 경우 일반 적인 배열보다 빠름                          |
| 단점 | 요소를 삽입 또는 삭제하는 경우 효율적이지 않음 | 일반적인 배열보다 성능적인 면에서 느릴 수 밖에 없음 (해시 테이블로 구현된 객체) |

- 모던 자바스크립트 엔진은 배열을 일반 객체와 구별해 최적화해서 구현 (일반 객체보다 성능이 2배정도 빠름)

## 27.3 length 프로퍼티와 희소 배열


> _length_ 프로퍼티: 배열의 길이를 나타내는 0 이상의 정수를 값으로 가짐

- 0 ~ 2^32 - 1 미만의 양의 정수
  → 배열은 요소를 최대 2^32 - 1개 가질 수 있음
- length 프로퍼티의 값은 배열에 요소를 추가하거나 삭제시 자동 갱신

```jsx
const arr = [1, 2, 3, 4];
arr.length = 3;
console.log(arr); // [1, 2, 3]
```

- 현재 length 프로퍼티 값보다 작은 숫자 값을 할당하면 길이가 줄어듦

```jsx
const arr = [1];
arr.length = 3;
```

- 현재 length 프로퍼티보다 큰 값을 할당해도 실제 배열은 바뀌지 않음

```jsx
const sparse = [, 2, , 4];
console.log(sparse.length); // 4
```

- 자바스크립트는 희소 배열을 문법적으로 허용 (사용하지 않는 것이 좋음)

## 27.4 배열 생성

### 배열 리터럴

```jsx
const arr = [1, 2, 3];
console.log(arr.length); // 3
```

- 0개 이상의 요소를 쉼표로 구분해 대괄호로 묶음

### Array 생성자 함수

```jsx
const arr = new Array(10);
console.log(arr); // [empty * 10]
console.log(arr.length); // 10

new Array(); // []
```

### Array.of

```jsx
Array.of(1); // [1]

Array.of(1, 2, 3); // [1, 2, 3]
```

- 전달된 인수를 요소로 갖는 배열을 생성

### Array.from

```jsx
Array.from({ length: 2, 0: "a", 1: "b" }); // ['a', 'b']
Array.from("Hello"); // ['H', 'e', 'l', 'l', 'o']
```

- 유사 배열 객체 또는 이터러블 객체를 인수로 전달받아 배열로 반환

## 27.5 배열 요소의 참조

```jsx
const arr = [1, 2];

console.log(arr[0]); // 1
console.log(arr[2]); // undefined
```

- 존재하지 않는 요소를 참조시 undefined 반환
